<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tenerife Exploration Map - Mat Hayward</title>
    <link rel="preconnect" href="https://use.typekit.net">
    <link rel="stylesheet" href="https://use.typekit.net/ttu5hld.css" defer>
    
    <link rel="stylesheet" href="/assets/css/styles.css">
    <script src="/assets/js/app.js"></script>

    <script src="https://detailed-beard.mathayward.com/script.js" data-site="NYZPYRMT" defer></script>

    <link rel="apple-touch-icon" href="/assets/images/favicon-196.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32.png">
    <meta name="description" content="A map of photo locations in Tenerife">
    <meta name="robots" content="all">
    <meta content="en_GB" property="og:locale">
    <meta content="Mat Hayward" property="og:site_name">
    <meta content="website" property="og:type">
    <meta content="https://mathayward.com" property="og:url">
    <meta content="Tenerife Exploration Map - Mat Hayward" property="og:title">
    <meta content="A map of photo locations in Tenerife" property="og:description">
    <meta content="https://mathaywarduk.imgix.net/?w=1200&h=630&fit=crop" property="og:image">
    <meta content="1200" property="og:image:width">
    <meta content="630" property="og:image:height">
    <meta content="" property="og:image:alt">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@madebykind">
    <meta name="twitter:title" content="Tenerife Exploration Map">
    <meta name="twitter:description" content="A map of photo locations in Tenerife">
    <meta name="twitter:image" content="https://mathaywarduk.imgix.net/?w=1200&h=600&fit=crop">
    <meta name="twitter:image:width" content="1200">
    <meta name="twitter:image:height" content="600">
    <meta name="twitter:image:alt" content="">
    <link href="https://mathayward.com" rel="canonical">
    <link href="https://mathayward.com" rel="home">
    <link type="text/plain" href="https://mathayward.com/humans.txt" rel="author">
    
      
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-008.jpg?w=767">
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-003.jpg?w=767">
      
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-004.jpg?w=767">
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-003.jpg?w=767">
      
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-002.jpg?w=767">
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-003.jpg?w=767">
      
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-014.jpg?w=767">
        <link rel="preload" as="image" href="https://mathaywarduk.imgix.net/Tenerife-003.jpg?w=767">
      
    
  </head>
  <body>
    
    <header class="fixed top-0 left-0 z-10 p-8 uppercase b-white">
      <div class="">
        <a href="/locations" class="font-bold tracking-widest inline-flex gap-2">
          <img src="/assets/images/icons/back.svg" class="w-4 h-4">
          Locations
        </a>
      </div>
    </header>
    
    <main>
      

<div id="map" class="w-screen h-screen"></div>

<button class="close fixed top-4 right-4 c-white z-30 hideRight" id="mapContentClose"><span class="sr-only">Close</span></button>

<div class="fixed bottom-0 top-0 right-0 b-white max-w-screen md:max-w-md drop-shadow-[-5px_0_10px_rgba(0,0,0,0.25)] overflow-y-auto z-20 hideRight" id="mapContentWrapper">
  <div id="mapContent" class="flex flex-col h-screen"></div>
</div>


<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAV3uTC8stNqMKRlJhpZDo6c5YBha1VTY4&amp;libraries=&amp;v=weekly&amp;callback=initMap" defer></script>


<script>

// @TODO abstract this
  function initMap() {

    let bounds = new google.maps.LatLngBounds();
    let mapContainer = document.getElementById("map");
    let contentWrapper = document.getElementById("mapContentWrapper");
    let contentContainer = document.getElementById("mapContent");
    let closeButton = document.getElementById("mapContentClose");
    let locations = [{"title":"Anaga","slug":"anaga","description":"I'm not sure exactly where in Anaga this shot was taken, but the whole area is full of lush green mountains with winding roads working their way through the valley. You can't miss.","lat":28.544055,"lng":-16.205056,"hero":"Tenerife-008.jpg","category":"view","collection":{"title":"Tenerife","slug":"tenerife","hero":{"url":"Tenerife-003.jpg","alt":"Masca valley - sunset in the mist"}}},{"title":"Masca Valley","slug":"masca-valley","description":"The village of Masca is pretty hidden. It takes driving some pretty windy roads to get there and you have to time it prefectly to get the sunlight poking through the spaces between the mountains.","lat":28.304526,"lng":-16.829807,"hero":"Tenerife-004.jpg","category":"view","collection":{"title":"Tenerife","slug":"tenerife","hero":{"url":"Tenerife-003.jpg","alt":"Masca valley - sunset in the mist"}}},{"title":"Teide","slug":"teide","description":"Tenerife is a volcanic island and Teide the active volcano at it's centre. You can easily drive to Teide through mountain forests before you reach a large plateau with incredible rock formations everywhere.","lat":28.210999,"lng":-16.636865,"hero":"Tenerife-002.jpg","category":"view","collection":{"title":"Tenerife","slug":"tenerife","hero":{"url":"Tenerife-003.jpg","alt":"Masca valley - sunset in the mist"}}},{"title":"Playa de Benijo","slug":"playa-de-benijo","description":"Situated at the north coast of Tenerife, in Anaga, it's less likely to be a beach to sunbathe on and more likely that you'll just enjoy shooting the sea stacks and the black sand.","lat":28.572187,"lng":-16.192852,"hero":"Tenerife-014.jpg","category":"view","collection":{"title":"Tenerife","slug":"tenerife","hero":{"url":"Tenerife-003.jpg","alt":"Masca valley - sunset in the mist"}}}];
    let allMarkers = [];
    let baseURL = "https://mathaywarduk.imgix.net/";

    // get location from query string
    const urlParams = new URLSearchParams(window.location.search);
    const qloc = urlParams.get('l');

    const map = new google.maps.Map(mapContainer, {
      zoom: 10,
      center: new google.maps.LatLng(28.285864, -16.612847),
      styles: [{"featureType":"administrative.land_parcel","stylers":[{"visibility":"off"}]},{"featureType":"administrative.neighborhood","stylers":[{"visibility":"off"}]},{"featureType":"poi","elementType":"labels.text","stylers":[{"visibility":"off"}]},{"featureType":"poi.attraction","stylers":[{"visibility":"off"}]},{"featureType":"poi.business","stylers":[{"visibility":"off"}]},{"featureType":"poi.government","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","stylers":[{"visibility":"off"}]},{"featureType":"poi.place_of_worship","stylers":[{"visibility":"off"}]},{"featureType":"poi.school","stylers":[{"visibility":"off"}]},{"featureType":"poi.sports_complex","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"labels","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"labels.text","stylers":[{"visibility":"off"}]},{"elementType":"geometry.fill","stylers":[{"saturation":-100}]},{"elementType":"labels.text","stylers":[{"saturation":-100}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#5bb2d7"},{"saturation":25},{"lightness":55}]}],
      mapTypeControl: false,
      streetViewControl: false,
      fullscreenControl: false,
    });

    for (let i = 0; i < locations.length; i++) {
      let title = locations[i].title;
      let collection = locations[i].collection;
      let description = locations[i].description;
      let lat = locations[i].lat;
      let lng = locations[i].lng;
      let slug = locations[i].slug;
      let category = locations[i].category;
      let hero = locations[i].hero;

      if (typeof lat !== 'undefined' && typeof lng !== 'undefined') {

        let marker = new google.maps.Marker({
          position: new google.maps.LatLng(lat, lng),
          map: map,
          category: category,
          a: category,
          icon: {
            url: `/assets/images/icons/${category}_off.svg`,
            scaledSize: new google.maps.Size(32, 32)
          },
        });

        allMarkers.push(marker);
        
        bounds.extend(marker.position);

        google.maps.event.addListener(marker, 'click', (function(marker, i) {
          return function() {
        
            let imagesHTML = "";

            // change all markers
            allMarkers.forEach((element) => {
              element.setIcon(`/assets/images/icons/${element.category}_off.svg`);
            });

            // change this marker
            marker.setIcon(`/assets/images/icons/${marker.category}_on.svg`);

            // change map center to current marker
            map.setCenter({
              lat : lat,
              lng : lng
            });

            // Zoom in
            if (map.getZoom() < 10){
              map.setZoom(10);
            }

            heroHTML = `<picture class="w-full">
              <img alt="${title}" 
                src="${baseURL}${hero}?w=767"
                width="767">
            </picture>`

            // update HTML
            contentContainer.innerHTML = 
               `<div class="relative mb-8">
                  ${heroHTML}
                  <div class="absolute bottom-0 left-0 right-0 b-black-grad p-4">
                    <div class="overflow-hidden">
                      <h2 class="text-slide-up text-4xl font-display c-white leading-none pb-2">${title}</h2>
                    </div>
                  </div>
                </div>

                <div class="p-4">
                  <div class="overflow-hidden">
                    <h2 class="meta text-slide-down anim-delay-600">Info</h2>
                  </div>
                  <div class="fade-down anim-delay-600">
                    <p>${description}</p>
                  </div>
                </div>

                <div class="relative mt-auto">
                  <a href="/photography/${collection.slug}" class="collection-nav-item">
                    <div class="absolute bottom-0 left-0 p-4 z-10 c-white">
                      <div class="overflow-hidden">
                        <span class="meta text-slide-down anim-delay-600">Photography collection</span>
                      </div>
                      <div class="fade-down anim-delay-600">
                        <h2 class="text-2xl font-display leading-none tracking-wide mb-4 md:text-3xl lg:text-4xl inline-block">
                          ${collection.title}
                        </h2>
                      </div>
                    </div>
                    <img src="${baseURL}${collection.hero.url}?w=767" alt="${collection.hero.alt}" class="block">
                  </a>
                </div>`;

            // show content element
            // contentWrapper.classList.remove("hidden");
            // closeButton.classList.remove("hidden");
            closeButton.classList.add("slide-from-right");
            contentWrapper.classList.add("slide-from-right");
          }
        })(marker, i));

        if (qloc !== null && qloc === slug) {
          new google.maps.event.trigger( marker, 'click' );
        }

      }

    }
    
    if (qloc === null) {
      map.fitBounds(bounds);
    }

    //  When close button clicked
    closeButton.addEventListener("click", function() {

      contentContainer.innerHTML = "";
      // contentWrapper.classList.add("hidden");
      // closeButton.classList.add("hidden");
      // map.fitBounds(bounds);
      // map.setZoom(8);
      closeButton.classList.remove("slide-from-right");
      contentWrapper.classList.remove("slide-from-right");
      allMarkers.forEach((element) => {
        element.setIcon(`/assets/images/icons/${element.category}_off.svg`);
      });

    });
  }

</script>
    </main>
  </body>
</html>